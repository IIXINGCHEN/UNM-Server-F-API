# UNM-Server 环境变量配置示例
# 复制此文件为 .env 并按需修改

#==============================================================================
# 1. 服务器基础配置
#==============================================================================
NODE_ENV = production            # 环境模式：development, production, test
PORT = 5678                      # 服务器监听端口
HOST = 0.0.0.0                   # 服务器监听地址
BASE_URL = https://your-domain.com # 服务基础URL

#==============================================================================
# 2. 安全设置
#==============================================================================
# 2.1 访问控制
ALLOWED_DOMAIN = '*'             # 允许访问的域名，*表示允许所有，多个域名用逗号分隔
CORS_ORIGIN = '*'                # 允许的CORS域名，*表示允许所有，多个域名用逗号分隔
ENABLE_IP_WHITELIST = false      # 是否启用IP白名单
IP_WHITELIST = 127.0.0.1,10.0.0.* # IP白名单，支持通配符和CIDR格式(如192.168.1.0/24)
TRUST_PROXY = true               # 是否信任代理，用于获取真实客户端IP

# 2.2 认证与授权
ENABLE_API_AUTH = true           # 是否启用API密钥验证
# API_KEYS = your-api-key-1,your-api-key-2  # API密钥，多个用逗号分隔
SESSION_SECRET = 'your-session-secret-key'  # 会话密钥，用于加密会话数据

# 2.3 请求限制
ENABLE_RATE_LIMIT = true         # 是否启用请求频率限制
RATE_LIMIT_MAX = 100             # 时间窗口内最大请求数
RATE_LIMIT_WINDOW = 60000        # 时间窗口（毫秒，1分钟）

#==============================================================================
# 3. 性能与资源
#==============================================================================
# 3.1 系统资源
MAX_WORKERS = 4                  # 工作进程数
REQUEST_TIMEOUT = 15000          # 请求超时时间（毫秒）
SEARCH_TIMEOUT = 10000           # 搜索超时时间（毫秒）

# 3.2 代理设置
ENABLE_PROXY = false             # 是否启用代理
HTTP_PROXY =                     # HTTP代理
HTTPS_PROXY =                    # HTTPS代理
PROXY_URL =                      # 代理URL

#==============================================================================
# 4. 缓存配置
#==============================================================================
# 4.1 通用缓存
CACHE_ENABLED = true             # 是否启用缓存
CACHE_TTL = 7200                 # 缓存生存时间（秒）
CACHE_MAX_SIZE = 1000            # 缓存最大项数
CACHE_MAXAGE = 3600              # 缓存最大年龄（秒）

# 4.2 内存缓存
MEMORY_CACHE_SIZE = 1000         # 内存缓存大小(项)
MEMORY_CACHE_TTL = 300           # 内存缓存过期时间(秒)

# 4.3 Redis缓存
ENABLE_REDIS_CACHE = true        # 是否启用Redis缓存
# REDIS_URL = redis://username:password@host:port  # Redis连接URL
REDIS_CACHE_TTL = 86400          # Redis缓存过期时间(秒)

# 4.4 特定内容缓存
SONG_CACHE_TTL = 86400           # 歌曲缓存过期时间(秒)
SOURCE_CACHE_TTL = 3600          # 音源缓存过期时间(秒)

#==============================================================================
# 5. 音乐服务配置
#==============================================================================
# 5.1 音乐API
ENABLE_MUSIC_API = true          # 是否启用音乐API服务
MUSIC_API_URL = https://example.com/api  # 音乐API地址
MAX_SONG_SEARCH_RESULTS = 5      # 最大搜索结果数

# 5.2 音质设置
ENABLE_FLAC = true               # 是否启用无损音质
SELECT_MAX_BR = true             # 是否优先选择最高音质

# 5.3 音源配置
FOLLOW_SOURCE_ORDER = true       # 是否严格按照配置的音源顺序匹配
SOURCE_PRIORITY = netease,qq,kugou,kuwo,migu  # 音源优先级，多个用逗号分隔

# 5.4 启用的音乐源
ENABLE_NETEASE = true            # 网易云音乐
ENABLE_TENCENT = true            # QQ音乐
ENABLE_KUGOU = true              # 酷狗音乐
ENABLE_KUWO = true               # 酷我音乐
ENABLE_BILIBILI = true           # B站音乐

# 5.5 音乐提供商Cookie
NETEASE_COOKIE = ""              # 网易云音乐Cookie
JOOX_COOKIE = ""                 # JOOX Cookie
MIGU_COOKIE = ""                 # 咪咕音乐Cookie
QQ_COOKIE = ""                   # QQ音乐Cookie

#==============================================================================
# 6. 外部服务集成
#==============================================================================
# 6.1 YouTube集成
YOUTUBE_KEY = ""                 # YouTube API密钥

# 6.2 其他API功能
ENABLE_VIDEO_API = false         # 是否启用视频API
ENABLE_SMS_API = false           # 是否启用短信API
ENABLE_FILE_API = false          # 是否启用文件API

#==============================================================================
# 7. 日志与监控
#==============================================================================
LOG_LEVEL = info                 # 日志级别：debug, info, warn, error
LOG_TO_FILE = false              # 是否记录到文件
LOG_DIR = logs                   # 日志目录

#==============================================================================
# 8. 开发与调试
#==============================================================================
ENABLE_DOCS = true               # 是否启用API文档，生产环境建议关闭
